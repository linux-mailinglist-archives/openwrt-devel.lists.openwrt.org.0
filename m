Return-Path: <openwrt-devel-bounces+lists+openwrt-devel=lfdr.de@lists.openwrt.org>
X-Original-To: lists+openwrt-devel@lfdr.de
Delivered-To: lists+openwrt-devel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 1452012706F
	for <lists+openwrt-devel@lfdr.de>; Thu, 19 Dec 2019 23:12:58 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:Subject:MIME-Version:References:
	In-Reply-To:Message-Id:Date:To:From:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=jjxsLHgtuxSlsnpHM22w4GMBOAnzPOo1+KWYsFoom+U=; b=qnwj7fKhlK0xJp
	AE5kSmQBuW2Gve9N2vnypxg22DVBApssz0BVrAHaoFXquofCszruQouBTIkGWWnkAMBP5lYVDDwpi
	wxuWXgEb/SZ73WAswhDYzg9ogfFPnHy7THTIiDtzn19HL1ZmCxcmWyF75B3lT+evX5ptwA9+m/xhk
	AsbjAeFoMNKzpmZ9DtWqKYWi1hGZ/DH6LVAgmc/9wozX8LMQPwOY8drflrtDLXOIMSK5sGoVV76UA
	r4jWOrA70ipIKWqQhfCqxWK2gAMtVCJbMJApMW/cdXfD5VO4Gx/9EBO4sq+6kmo/tVXMwsuyAcFml
	1l+nPzc3EPZuJP7xTJHg==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1ii42R-0006it-M8; Thu, 19 Dec 2019 22:12:55 +0000
Received: from smtp-out.xnet.cz ([178.217.244.18])
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1ii41H-00052j-TQ
 for openwrt-devel@lists.openwrt.org; Thu, 19 Dec 2019 22:11:46 +0000
Received: from meh.true.cz (meh.true.cz [108.61.167.218])
 (Authenticated sender: petr@true.cz)
 by smtp-out.xnet.cz (Postfix) with ESMTPSA id 9DA4A4BBE;
 Thu, 19 Dec 2019 23:11:42 +0100 (CET)
Received: by meh.true.cz (OpenSMTPD) with ESMTP id 1454c9b1;
 Thu, 19 Dec 2019 23:11:33 +0100 (CET)
From: =?UTF-8?q?Petr=20=C5=A0tetiar?= <ynezz@true.cz>
To: openwrt-devel@lists.openwrt.org
Date: Thu, 19 Dec 2019 23:11:13 +0100
Message-Id: <20191219221125.22646-5-ynezz@true.cz>
In-Reply-To: <20191219221125.22646-1-ynezz@true.cz>
References: <20191219221125.22646-1-ynezz@true.cz>
MIME-Version: 1.0
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20191219_141144_249731_B980A827 
X-CRM114-Status: GOOD (  14.46  )
X-Spam-Score: 0.0 (/)
X-Spam-Report: SpamAssassin version 3.4.2 on bombadil.infradead.org summary:
 Content analysis details:   (0.0 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 RCVD_IN_DNSWL_NONE     RBL: Sender listed at https://www.dnswl.org/,
 no trust [178.217.244.18 listed in list.dnswl.org]
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 0.0 SPF_NONE               SPF: sender does not publish an SPF Record
Subject: [OpenWrt-Devel] [PATCH ubus 04/16] iron out all extra compiler
 warnings
X-BeenThere: openwrt-devel@lists.openwrt.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <openwrt-devel.lists.openwrt.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/openwrt-devel>, 
 <mailto:openwrt-devel-request@lists.openwrt.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/openwrt-devel/>
List-Post: <mailto:openwrt-devel@lists.openwrt.org>
List-Help: <mailto:openwrt-devel-request@lists.openwrt.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/openwrt-devel>,
 <mailto:openwrt-devel-request@lists.openwrt.org?subject=subscribe>
Cc: =?UTF-8?q?Petr=20=C5=A0tetiar?= <ynezz@true.cz>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "openwrt-devel" <openwrt-devel-bounces@lists.openwrt.org>
Errors-To: openwrt-devel-bounces+lists+openwrt-devel=lfdr.de@lists.openwrt.org

Y2xhbmctOSBvbiB4ODYvNjQgaGFzIHJlcG9ydGVkIGZvbGxvd2luZyB3YXJuaW5ncy9lcnJvcnM6
CgogbGlidWJ1cy1hY2wuYzoxMjM6MjogZXJyb3I6IGNvbXBhcmlzb24gb2YgaW50ZWdlcnMgb2Yg
ZGlmZmVyZW50IHNpZ25zOiAnc2l6ZV90JyAoYWthICd1bnNpZ25lZCBsb25nJykgYW5kICdpbnQn
IFstV2Vycm9yLC1Xc2lnbi1jb21wYXJlXQogbGlidWJ1cy1pby5jOjEwODoxODogZXJyb3I6IGNv
bXBhcmlzb24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50IHNpZ25zOiAnaW50JyBhbmQgJ3NpemVf
dCcgKGFrYSAndW5zaWduZWQgbG9uZycpIFstV2Vycm9yLC1Xc2lnbi1jb21wYXJlXQogbGlidWJ1
cy1pby5jOjM5NTo1NjogZXJyb3I6IGNvbXBhcmlzb24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50
IHNpZ25zOiAnc3NpemVfdCcgKGFrYSAnbG9uZycpIGFuZCAnc2l6ZV90JyAoYWthICd1bnNpZ25l
ZCBsb25nJykgWy1XZXJyb3IsLVdzaWduLWNvbXBhcmVdCiBsaWJ1YnVzLXJlcS5jOjQ0MTo0OiBl
cnJvcjogY29tcGFyaXNvbiBvZiBpbnRlZ2VycyBvZiBkaWZmZXJlbnQgc2lnbnM6ICdzaXplX3Qn
IChha2EgJ3Vuc2lnbmVkIGxvbmcnKSBhbmQgJ2ludCcgWy1XZXJyb3IsLVdzaWduLWNvbXBhcmVd
CiB1YnVzZF9hY2wuYzoxMTk6MTg6IGVycm9yOiBjb21wYXJpc29uIG9mIGludGVnZXJzIG9mIGRp
ZmZlcmVudCBzaWduczogJ2ludCcgYW5kICd1bnNpZ25lZCBsb25nJyBbLVdlcnJvciwtV3NpZ24t
Y29tcGFyZV0KIHVidXNkX2FjbC5jOjE1Mjo1OiBlcnJvcjogY29tcGFyaXNvbiBvZiBpbnRlZ2Vy
cyBvZiBkaWZmZXJlbnQgc2lnbnM6ICdzaXplX3QnIChha2EgJ3Vuc2lnbmVkIGxvbmcnKSBhbmQg
J2ludCcgWy1XZXJyb3IsLVdzaWduLWNvbXBhcmVdCiB1YnVzZF9hY2wuYzozNDg6MzogZXJyb3I6
IGNvbXBhcmlzb24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50IHNpZ25zOiAnc2l6ZV90JyAoYWth
ICd1bnNpZ25lZCBsb25nJykgYW5kICdpbnQnIFstV2Vycm9yLC1Xc2lnbi1jb21wYXJlXQogdWJ1
c2RfYWNsLmM6MzUyOjM6IGVycm9yOiBjb21wYXJpc29uIG9mIGludGVnZXJzIG9mIGRpZmZlcmVu
dCBzaWduczogJ3NpemVfdCcgKGFrYSAndW5zaWduZWQgbG9uZycpIGFuZCAnaW50JyBbLVdlcnJv
ciwtV3NpZ24tY29tcGFyZV0KIHVidXNkX2FjbC5jOjM1NzozOiBlcnJvcjogY29tcGFyaXNvbiBv
ZiBpbnRlZ2VycyBvZiBkaWZmZXJlbnQgc2lnbnM6ICdzaXplX3QnIChha2EgJ3Vuc2lnbmVkIGxv
bmcnKSBhbmQgJ2ludCcgWy1XZXJyb3IsLVdzaWduLWNvbXBhcmVdCiB1YnVzZF9hY2wuYzozNjI6
MzogZXJyb3I6IGNvbXBhcmlzb24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50IHNpZ25zOiAnc2l6
ZV90JyAoYWthICd1bnNpZ25lZCBsb25nJykgYW5kICdpbnQnIFstV2Vycm9yLC1Xc2lnbi1jb21w
YXJlXQogdWJ1c2RfYWNsLmM6MzY3OjM6IGVycm9yOiBjb21wYXJpc29uIG9mIGludGVnZXJzIG9m
IGRpZmZlcmVudCBzaWduczogJ3NpemVfdCcgKGFrYSAndW5zaWduZWQgbG9uZycpIGFuZCAnaW50
JyBbLVdlcnJvciwtV3NpZ24tY29tcGFyZV0KIHVidXNkX2FjbC5jOjQ0NzoxNjogZXJyb3I6IGNv
bXBhcmlzb24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50IHNpZ25zOiAnaW50JyBhbmQgJ19fc2l6
ZV90JyAoYWthICd1bnNpZ25lZCBsb25nJykgWy1XZXJyb3IsLVdzaWduLWNvbXBhcmVdCiB1YnVz
ZF9hY2wuYzo1MDI6MTg6IGVycm9yOiBjb21wYXJpc29uIG9mIGludGVnZXJzIG9mIGRpZmZlcmVu
dCBzaWduczogJ2ludCcgYW5kICd1bnNpZ25lZCBsb25nJyBbLVdlcnJvciwtV3NpZ24tY29tcGFy
ZV0KIHVidXNkLmM6MTIzOjEzOiBlcnJvcjogY29tcGFyaXNvbiBvZiBpbnRlZ2VycyBvZiBkaWZm
ZXJlbnQgc2lnbnM6ICdpbnQnIGFuZCAndW5zaWduZWQgbG9uZycgWy1XZXJyb3IsLVdzaWduLWNv
bXBhcmVdCiB1YnVzZC5jOjE3MDoxNTogZXJyb3I6IGNvbXBhcmlzb24gb2YgaW50ZWdlcnMgb2Yg
ZGlmZmVyZW50IHNpZ25zOiAnaW50JyBhbmQgJ3Vuc2lnbmVkIGxvbmcnIFstV2Vycm9yLC1Xc2ln
bi1jb21wYXJlXQogdWJ1c2QuYzoyNjI6NDM6IGVycm9yOiBjb21wYXJpc29uIG9mIGludGVnZXJz
IG9mIGRpZmZlcmVudCBzaWduczogJ2ludCcgYW5kICd1bnNpZ25lZCBsb25nJyBbLVdlcnJvciwt
V3NpZ24tY29tcGFyZV0KIHVidXNkLmM6Mjg3OjMwOiBlcnJvcjogY29tcGFyaXNvbiBvZiBpbnRl
Z2VycyBvZiBkaWZmZXJlbnQgc2lnbnM6ICdpbnQnIGFuZCAndW5zaWduZWQgbG9uZycgWy1XZXJy
b3IsLVdzaWduLWNvbXBhcmVdCiB1YnVzZF9ldmVudC5jOjE3MDoxODogZXJyb3I6IGNvbXBhcmlz
b24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50IHNpZ25zOiAnaW50JyBhbmQgJ3Vuc2lnbmVkIGxv
bmcnIFstV2Vycm9yLC1Xc2lnbi1jb21wYXJlXQogdWJ1c2Rfb2JqLmM6NzE6MjogZXJyb3I6IGNv
bXBhcmlzb24gb2YgaW50ZWdlcnMgb2YgZGlmZmVyZW50IHNpZ25zOiAnc2l6ZV90JyAoYWthICd1
bnNpZ25lZCBsb25nJykgYW5kICdpbnQnIFstV2Vycm9yLC1Xc2lnbi1jb21wYXJlXQoKU2lnbmVk
LW9mZi1ieTogUGV0ciDFoHRldGlhciA8eW5lenpAdHJ1ZS5jej4KLS0tCiBjbGkuYyAgICAgICAg
ICAgICB8IDExICsrKysrKy0tLS0tCiBleGFtcGxlcy9zZXJ2ZXIuYyB8ICA3ICsrKystLS0KIGxp
YnVidXMtYWNsLmMgICAgIHwgIDIgKy0KIGxpYnVidXMtaW8uYyAgICAgIHwgIDYgKysrLS0tCiBs
aWJ1YnVzLXJlcS5jICAgICB8ICAzICsrLQogbHVhL3VidXMuYyAgICAgICAgfCAgNCArKy0tCiB1
YnVzZC5jICAgICAgICAgICB8IDE0ICsrKysrKystLS0tLS0tCiB1YnVzZF9hY2wuYyAgICAgICB8
IDEwICsrKysrLS0tLS0KIHVidXNkX2V2ZW50LmMgICAgIHwgIDIgKy0KIHVidXNkX29iai5jICAg
ICAgIHwgIDIgKy0KIDEwIGZpbGVzIGNoYW5nZWQsIDMyIGluc2VydGlvbnMoKyksIDI5IGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL2NsaS5jIGIvY2xpLmMKaW5kZXggMTljY2JiNTA5M2NlLi40
MjFmMjQ0YWQ5ZGMgMTAwNjQ0Ci0tLSBhL2NsaS5jCisrKyBiL2NsaS5jCkBAIC00Nyw3ICs0Nyw3
IEBAIHN0YXRpYyBjb25zdCBjaGFyICpmb3JtYXRfdHlwZSh2b2lkICpwcml2LCBzdHJ1Y3QgYmxv
Yl9hdHRyICphdHRyKQogCQlbQkxPQk1TR19UWVBFX1RBQkxFXSA9ICJcIlRhYmxlXCIiLAogCX07
CiAJY29uc3QgY2hhciAqdHlwZSA9IE5VTEw7Ci0JaW50IHR5cGVpZDsKKwlzaXplX3QgdHlwZWlk
OwogCiAJaWYgKGJsb2JfaWQoYXR0cikgIT0gQkxPQk1TR19UWVBFX0lOVDMyKQogCQlyZXR1cm4g
TlVMTDsKQEAgLTY1LDcgKzY1LDcgQEAgc3RhdGljIHZvaWQgcmVjZWl2ZV9saXN0X3Jlc3VsdChz
dHJ1Y3QgdWJ1c19jb250ZXh0ICpjdHgsIHN0cnVjdCB1YnVzX29iamVjdF9kYXQKIHsKIAlzdHJ1
Y3QgYmxvYl9hdHRyICpjdXI7CiAJY2hhciAqczsKLQlpbnQgcmVtOworCXNpemVfdCByZW07CiAK
IAlpZiAoc2ltcGxlX291dHB1dCB8fCAhdmVyYm9zZSkgewogCQlwcmludGYoIiVzXG4iLCBvYmot
PnBhdGgpOwpAQCAtNTIwLDcgKzUyMCw3IEBAIHN0YXRpYyBpbnQgdWJ1c19jbGlfbW9uaXRvcihz
dHJ1Y3QgdWJ1c19jb250ZXh0ICpjdHgsIGludCBhcmdjLCBjaGFyICoqYXJndikKIAogc3RhdGlj
IGludCBhZGRfbW9uaXRvcl90eXBlKGNvbnN0IGNoYXIgKnR5cGUpCiB7Ci0JaW50IGk7CisJc2l6
ZV90IGk7CiAKIAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShtb25pdG9yX3R5cGVzKTsgaSsr
KSB7CiAJCWlmICghbW9uaXRvcl90eXBlc1tpXSB8fCBzdHJjbXAobW9uaXRvcl90eXBlc1tpXSwg
dHlwZSkgIT0gMCkKQEAgLTU3NSw5ICs1NzUsMTAgQEAgaW50IG1haW4oaW50IGFyZ2MsIGNoYXIg
Kiphcmd2KQogewogCWNvbnN0IGNoYXIgKnByb2duYW1lLCAqdWJ1c19zb2NrZXQgPSBOVUxMOwog
CXN0cnVjdCB1YnVzX2NvbnRleHQgKmN0eDsKLQljaGFyICpjbWQ7CiAJaW50IHJldCA9IDA7Ci0J
aW50IGksIGNoOworCWNoYXIgKmNtZDsKKwlzaXplX3QgaTsKKwlpbnQgY2g7CiAKIAlwcm9nbmFt
ZSA9IGFyZ3ZbMF07CiAKZGlmZiAtLWdpdCBhL2V4YW1wbGVzL3NlcnZlci5jIGIvZXhhbXBsZXMv
c2VydmVyLmMKaW5kZXggZTBjZGUwYmYzYTg2Li4wMDRlYWYzYTdhZTEgMTAwNjQ0Ci0tLSBhL2V4
YW1wbGVzL3NlcnZlci5jCisrKyBiL2V4YW1wbGVzL3NlcnZlci5jCkBAIC04NCw3ICs4NCw3IEBA
IHN0YXRpYyBpbnQgdGVzdF9oZWxsbyhzdHJ1Y3QgdWJ1c19jb250ZXh0ICpjdHgsIHN0cnVjdCB1
YnVzX29iamVjdCAqb2JqLAogewogCXN0cnVjdCBoZWxsb19yZXF1ZXN0ICpocmVxOwogCXN0cnVj
dCBibG9iX2F0dHIgKnRiW19fSEVMTE9fTUFYXTsKLQljb25zdCBjaGFyICpmb3JtYXQgPSAiJXMg
cmVjZWl2ZWQgYSBtZXNzYWdlOiAlcyI7CisJY29uc3QgY2hhciBmb3JtYXRbXSA9ICIlcyByZWNl
aXZlZCBhIG1lc3NhZ2U6ICVzIjsKIAljb25zdCBjaGFyICptc2dzdHIgPSAiKHVua25vd24pIjsK
IAogCWJsb2Jtc2dfcGFyc2UoaGVsbG9fcG9saWN5LCBBUlJBWV9TSVpFKGhlbGxvX3BvbGljeSks
IHRiLCBibG9iX2RhdGEobXNnKSwgYmxvYl9sZW4obXNnKSk7CkBAIC05MiwxMSArOTIsMTIgQEAg
c3RhdGljIGludCB0ZXN0X2hlbGxvKHN0cnVjdCB1YnVzX2NvbnRleHQgKmN0eCwgc3RydWN0IHVi
dXNfb2JqZWN0ICpvYmosCiAJaWYgKHRiW0hFTExPX01TR10pCiAJCW1zZ3N0ciA9IGJsb2Jtc2df
ZGF0YSh0YltIRUxMT19NU0ddKTsKIAotCWhyZXEgPSBjYWxsb2MoMSwgc2l6ZW9mKCpocmVxKSAr
IHN0cmxlbihmb3JtYXQpICsgc3RybGVuKG9iai0+bmFtZSkgKyBzdHJsZW4obXNnc3RyKSArIDEp
OworCXNpemVfdCBsZW4gPSBzaXplb2YoKmhyZXEpICsgc2l6ZW9mKGZvcm1hdCkgKyBzdHJsZW4o
b2JqLT5uYW1lKSArIHN0cmxlbihtc2dzdHIpICsgMTsKKwlocmVxID0gY2FsbG9jKDEsIGxlbik7
CiAJaWYgKCFocmVxKQogCQlyZXR1cm4gVUJVU19TVEFUVVNfVU5LTk9XTl9FUlJPUjsKIAotCXNw
cmludGYoaHJlcS0+ZGF0YSwgZm9ybWF0LCBvYmotPm5hbWUsIG1zZ3N0cik7CisJc25wcmludGYo
aHJlcS0+ZGF0YSwgbGVuLCBmb3JtYXQsIG9iai0+bmFtZSwgbXNnc3RyKTsKIAl1YnVzX2RlZmVy
X3JlcXVlc3QoY3R4LCByZXEsICZocmVxLT5yZXEpOwogCWhyZXEtPnRpbWVvdXQuY2IgPSB0ZXN0
X2hlbGxvX3JlcGx5OwogCXVsb29wX3RpbWVvdXRfc2V0KCZocmVxLT50aW1lb3V0LCAxMDAwKTsK
ZGlmZiAtLWdpdCBhL2xpYnVidXMtYWNsLmMgYi9saWJ1YnVzLWFjbC5jCmluZGV4IDAyNzQ1MjBm
N2Q1Ny4uYWFiNjYyOWQxMzY3IDEwMDY0NAotLS0gYS9saWJ1YnVzLWFjbC5jCisrKyBiL2xpYnVi
dXMtYWNsLmMKQEAgLTEwMiw3ICsxMDIsNyBAQCBzdGF0aWMgdm9pZCBhY2xfcmVjdl9jYihzdHJ1
Y3QgdWJ1c19yZXF1ZXN0ICpyZXEsCiB7CiAJc3RydWN0IGJsb2JfYXR0ciAqdGJbX19BQ0xfUE9M
SUNZX01BWF07CiAJc3RydWN0IGJsb2JfYXR0ciAqY3VyOwotCWludCByZW07CisJc2l6ZV90IHJl
bTsKIAogCWlmIChhY2xfYmxvYikgewogCQlzdHJ1Y3QgYWNsX29iamVjdCAqcCwgKnE7CmRpZmYg
LS1naXQgYS9saWJ1YnVzLWlvLmMgYi9saWJ1YnVzLWlvLmMKaW5kZXggY2RkMWU2ZTFlZDZhLi4x
MjBmYjYwNWU5MGEgMTAwNjQ0Ci0tLSBhL2xpYnVidXMtaW8uYworKysgYi9saWJ1YnVzLWlvLmMK
QEAgLTc4LDcgKzc4LDcgQEAgc3RhdGljIGludCB3cml0ZXZfcmV0cnkoaW50IGZkLCBzdHJ1Y3Qg
aW92ZWMgKmlvdiwgaW50IGlvdl9sZW4sIGludCBzb2NrX2ZkKQogCWludCBsZW4gPSAwOwogCiAJ
ZG8gewotCQlpbnQgY3VyX2xlbjsKKwkJc3NpemVfdCBjdXJfbGVuOwogCiAJCWlmIChzb2NrX2Zk
IDwgMCkgewogCQkJbXNnaGRyLm1zZ19jb250cm9sID0gTlVMTDsKQEAgLTEwNSw3ICsxMDUsNyBA
QCBzdGF0aWMgaW50IHdyaXRldl9yZXRyeShpbnQgZmQsIHN0cnVjdCBpb3ZlYyAqaW92LCBpbnQg
aW92X2xlbiwgaW50IHNvY2tfZmQpCiAJCQlzb2NrX2ZkID0gLTE7CiAKIAkJbGVuICs9IGN1cl9s
ZW47Ci0JCXdoaWxlIChjdXJfbGVuID49IGlvdi0+aW92X2xlbikgeworCQl3aGlsZSAoY3VyX2xl
biA+PSAoc3NpemVfdCkgaW92LT5pb3ZfbGVuKSB7CiAJCQljdXJfbGVuIC09IGlvdi0+aW92X2xl
bjsKIAkJCWlvdl9sZW4tLTsKIAkJCWlvdisrOwpAQCAtMzkyLDcgKzM5Miw3IEBAIGludCB1YnVz
X3JlY29ubmVjdChzdHJ1Y3QgdWJ1c19jb250ZXh0ICpjdHgsIGNvbnN0IGNoYXIgKnBhdGgpCiAJ
CWdvdG8gb3V0X2Nsb3NlOwogCiAJbWVtY3B5KGJ1ZiwgJmhkci5kYXRhLCBzaXplb2YoaGRyLmRh
dGEpKTsKLQlpZiAocmVhZChjdHgtPnNvY2suZmQsIGJsb2JfZGF0YShidWYpLCBibG9iX2xlbihi
dWYpKSAhPSBibG9iX2xlbihidWYpKQorCWlmIChyZWFkKGN0eC0+c29jay5mZCwgYmxvYl9kYXRh
KGJ1ZiksIGJsb2JfbGVuKGJ1ZikpICE9IChzc2l6ZV90KSBibG9iX2xlbihidWYpKQogCQlnb3Rv
IG91dF9mcmVlOwogCiAJY3R4LT5sb2NhbF9pZCA9IGhkci5oZHIucGVlcjsKZGlmZiAtLWdpdCBh
L2xpYnVidXMtcmVxLmMgYi9saWJ1YnVzLXJlcS5jCmluZGV4IDc0NDQ2ZjNmZWY1MS4uOTc3ODVh
MWUyNGNkIDEwMDY0NAotLS0gYS9saWJ1YnVzLXJlcS5jCisrKyBiL2xpYnVidXMtcmVxLmMKQEAg
LTQyOCw3ICs0MjgsOCBAQCBzdGF0aWMgdm9pZCB1YnVzX3Byb2Nlc3Nfbm90aWZ5X3N0YXR1cyhz
dHJ1Y3QgdWJ1c19yZXF1ZXN0ICpyZXEsIGludCBpZCwgc3RydWN0CiAJc3RydWN0IHVidXNfbm90
aWZ5X3JlcXVlc3QgKm5yZXE7CiAJc3RydWN0IGJsb2JfYXR0ciAqKnRiOwogCXN0cnVjdCBibG9i
X2F0dHIgKmN1cjsKLQlpbnQgcmVtLCBpZHggPSAxOworCXNpemVfdCByZW07CisJaW50IGlkeCA9
IDE7CiAJaW50IHJldCA9IDA7CiAKIAlucmVxID0gY29udGFpbmVyX29mKHJlcSwgc3RydWN0IHVi
dXNfbm90aWZ5X3JlcXVlc3QsIHJlcSk7CmRpZmYgLS1naXQgYS9sdWEvdWJ1cy5jIGIvbHVhL3Vi
dXMuYwppbmRleCA0ZGEzYzgwZTA3ZjUuLjZmYmJjMDY4NmFmMyAxMDA2NDQKLS0tIGEvbHVhL3Vi
dXMuYworKysgYi9sdWEvdWJ1cy5jCkBAIC01MiwxMSArNTIsMTEgQEAgc3RhdGljIGludAogdWJ1
c19sdWFfcGFyc2VfYmxvYihsdWFfU3RhdGUgKkwsIHN0cnVjdCBibG9iX2F0dHIgKmF0dHIsIGJv
b2wgdGFibGUpOwogCiBzdGF0aWMgaW50Ci11YnVzX2x1YV9wYXJzZV9ibG9iX2FycmF5KGx1YV9T
dGF0ZSAqTCwgc3RydWN0IGJsb2JfYXR0ciAqYXR0ciwgaW50IGxlbiwgYm9vbCB0YWJsZSkKK3Vi
dXNfbHVhX3BhcnNlX2Jsb2JfYXJyYXkobHVhX1N0YXRlICpMLCBzdHJ1Y3QgYmxvYl9hdHRyICph
dHRyLCBzaXplX3QgbGVuLCBib29sIHRhYmxlKQogewogCWludCBydjsKIAlpbnQgaWR4ID0gMTsK
LQlpbnQgcmVtID0gbGVuOworCXNpemVfdCByZW0gPSBsZW47CiAJc3RydWN0IGJsb2JfYXR0ciAq
cG9zOwogCiAJbHVhX25ld3RhYmxlKEwpOwpkaWZmIC0tZ2l0IGEvdWJ1c2QuYyBiL3VidXNkLmMK
aW5kZXggZDZhNzJlNzMzNzBiLi5jMDIwZmY0MTZhMzIgMTAwNjQ0Ci0tLSBhL3VidXNkLmMKKysr
IGIvdWJ1c2QuYwpAQCAtOTIsNyArOTIsNyBAQCB2b2lkIHVidXNfbXNnX2ZyZWUoc3RydWN0IHVi
dXNfbXNnX2J1ZiAqdWIpCiAJfQogfQogCi1zdGF0aWMgaW50IHVidXNfbXNnX3dyaXRldihpbnQg
ZmQsIHN0cnVjdCB1YnVzX21zZ19idWYgKnViLCBpbnQgb2Zmc2V0KQorc3RhdGljIHNzaXplX3Qg
dWJ1c19tc2dfd3JpdGV2KGludCBmZCwgc3RydWN0IHVidXNfbXNnX2J1ZiAqdWIsIHNpemVfdCBv
ZmZzZXQpCiB7CiAJc3RhdGljIHN0cnVjdCBpb3ZlYyBpb3ZbMl07CiAJc3RhdGljIHN0cnVjdCB7
CkBAIC0xMTIsNyArMTEyLDcgQEAgc3RhdGljIGludCB1YnVzX21zZ193cml0ZXYoaW50IGZkLCBz
dHJ1Y3QgdWJ1c19tc2dfYnVmICp1YiwgaW50IG9mZnNldCkKIAkJLm1zZ19jb250cm9sbGVuID0g
c2l6ZW9mKGZkX2J1ZiksCiAJfTsKIAlzdHJ1Y3QgdWJ1c19tc2doZHIgaGRyOwotCWludCByZXQ7
CisJc3NpemVfdCByZXQ7CiAKIAlmZF9idWYuZmQgPSB1Yi0+ZmQ7CiAJaWYgKHViLT5mZCA8IDAg
fHwgb2Zmc2V0KSB7CkBAIC0xNTYsNyArMTU2LDcgQEAgc3RhdGljIHZvaWQgdWJ1c19tc2dfZW5x
dWV1ZShzdHJ1Y3QgdWJ1c19jbGllbnQgKmNsLCBzdHJ1Y3QgdWJ1c19tc2dfYnVmICp1YikKIC8q
IHRha2VzIHRoZSBtc2didWYgcmVmZXJlbmNlICovCiB2b2lkIHVidXNfbXNnX3NlbmQoc3RydWN0
IHVidXNfY2xpZW50ICpjbCwgc3RydWN0IHVidXNfbXNnX2J1ZiAqdWIpCiB7Ci0JaW50IHdyaXR0
ZW47CisJc3NpemVfdCB3cml0dGVuOwogCiAJaWYgKHViLT5oZHIudHlwZSAhPSBVQlVTX01TR19N
T05JVE9SKQogCQl1YnVzZF9tb25pdG9yX21lc3NhZ2UoY2wsIHViLCB0cnVlKTsKQEAgLTE2Nyw3
ICsxNjcsNyBAQCB2b2lkIHVidXNfbXNnX3NlbmQoc3RydWN0IHVidXNfY2xpZW50ICpjbCwgc3Ry
dWN0IHVidXNfbXNnX2J1ZiAqdWIpCiAJCWlmICh3cml0dGVuIDwgMCkKIAkJCXdyaXR0ZW4gPSAw
OwogCi0JCWlmICh3cml0dGVuID49IHViLT5sZW4gKyBzaXplb2YodWItPmhkcikpCisJCWlmICh3
cml0dGVuID49IChzc2l6ZV90KSAodWItPmxlbiArIHNpemVvZih1Yi0+aGRyKSkpCiAJCQlyZXR1
cm47CiAKIAkJY2wtPnR4cV9vZnMgPSB3cml0dGVuOwpAQCAtMjMyLDcgKzIzMiw3IEBAIHN0YXRp
YyB2b2lkIGNsaWVudF9jYihzdHJ1Y3QgdWxvb3BfZmQgKnNvY2ssIHVuc2lnbmVkIGludCBldmVu
dHMpCiAKIAkvKiBmaXJzdCB0cnkgdG8gdHggbW9yZSBwZW5kaW5nIGRhdGEgKi8KIAl3aGlsZSAo
KHViID0gdWJ1c19tc2dfaGVhZChjbCkpKSB7Ci0JCWludCB3cml0dGVuOworCQlzc2l6ZV90IHdy
aXR0ZW47CiAKIAkJd3JpdHRlbiA9IHVidXNfbXNnX3dyaXRldihzb2NrLT5mZCwgdWIsIGNsLT50
eHFfb2ZzKTsKIAkJaWYgKHdyaXR0ZW4gPCAwKSB7CkBAIC0yNTksNyArMjU5LDcgQEAgc3RhdGlj
IHZvaWQgY2xpZW50X2NiKHN0cnVjdCB1bG9vcF9mZCAqc29jaywgdW5zaWduZWQgaW50IGV2ZW50
cykKIAkJdWxvb3BfZmRfYWRkKHNvY2ssIFVMT09QX1JFQUQgfCBVTE9PUF9FREdFX1RSSUdHRVIp
OwogCiByZXRyeToKLQlpZiAoIXNvY2stPmVvZiAmJiBjbC0+cGVuZGluZ19tc2dfb2Zmc2V0IDwg
c2l6ZW9mKGNsLT5oZHJidWYpKSB7CisJaWYgKCFzb2NrLT5lb2YgJiYgY2wtPnBlbmRpbmdfbXNn
X29mZnNldCA8IChpbnQpIHNpemVvZihjbC0+aGRyYnVmKSkgewogCQlpbnQgb2Zmc2V0ID0gY2wt
PnBlbmRpbmdfbXNnX29mZnNldDsKIAkJaW50IGJ5dGVzOwogCkBAIC0yODQsNyArMjg0LDcgQEAg
cmV0cnk6CiAJCQljbC0+cGVuZGluZ19tc2dfZmQgPSBmZF9idWYuZmQ7CiAKIAkJY2wtPnBlbmRp
bmdfbXNnX29mZnNldCArPSBieXRlczsKLQkJaWYgKGNsLT5wZW5kaW5nX21zZ19vZmZzZXQgPCBz
aXplb2YoY2wtPmhkcmJ1ZikpCisJCWlmIChjbC0+cGVuZGluZ19tc2dfb2Zmc2V0IDwgKGludCkg
c2l6ZW9mKGNsLT5oZHJidWYpKQogCQkJZ290byBvdXQ7CiAKIAkJaWYgKGJsb2JfcGFkX2xlbigm
Y2wtPmhkcmJ1Zi5kYXRhKSA+IFVCVVNfTUFYX01TR0xFTikKZGlmZiAtLWdpdCBhL3VidXNkX2Fj
bC5jIGIvdWJ1c2RfYWNsLmMKaW5kZXggNjI1N2Y4MTFhNjUxLi5mMTlkZjlhODc1YzcgMTAwNjQ0
Ci0tLSBhL3VidXNkX2FjbC5jCisrKyBiL3VidXNkX2FjbC5jCkBAIC0xMTYsNyArMTE2LDcgQEAg
dWJ1c2RfYWNsX2NoZWNrKHN0cnVjdCB1YnVzX2NsaWVudCAqY2wsIGNvbnN0IGNoYXIgKm9iaiwK
IAkJCWlmICghYWNsLT5wYXJ0aWFsKQogCQkJCWNvbnRpbnVlOwogCi0JCQlpZiAobWF0Y2hfbGVu
ICE9IHN0cmxlbihrZXkpKQorCQkJaWYgKG1hdGNoX2xlbiAhPSAoaW50KSBzdHJsZW4oa2V5KSkK
IAkJCQljb250aW51ZTsKIAkJfQogCkBAIC0xNDcsNyArMTQ3LDcgQEAgdWJ1c2RfYWNsX2NoZWNr
KHN0cnVjdCB1YnVzX2NsaWVudCAqY2wsIGNvbnN0IGNoYXIgKm9iaiwKIAkJY2FzZSBVQlVTX0FD
TF9BQ0NFU1M6CiAJCQlpZiAoYWNsLT5tZXRob2RzKSB7CiAJCQkJc3RydWN0IGJsb2JfYXR0ciAq
Y3VyOwotCQkJCWludCByZW07CisJCQkJc2l6ZV90IHJlbTsKIAogCQkJCWJsb2Jtc2dfZm9yX2Vh
Y2hfYXR0cihjdXIsIGFjbC0+bWV0aG9kcywgcmVtKQogCQkJCQlpZiAoYmxvYm1zZ190eXBlKGN1
cikgPT0gQkxPQk1TR19UWVBFX1NUUklORykKQEAgLTMzMiw3ICszMzIsNyBAQCBzdGF0aWMgdm9p
ZAogdWJ1c2RfYWNsX2ZpbGVfYWRkKHN0cnVjdCB1YnVzZF9hY2xfZmlsZSAqZmlsZSkKIHsKIAlz
dHJ1Y3QgYmxvYl9hdHRyICp0YltfX0FDTF9NQVhdLCAqY3VyOwotCWludCByZW07CisJc2l6ZV90
IHJlbTsKIAogCWJsb2Jtc2dfcGFyc2UoYWNsX3BvbGljeSwgX19BQ0xfTUFYLCB0YiwgYmxvYl9k
YXRhKGZpbGUtPmJsb2IpLAogCQkgICAgICBibG9iX2xlbihmaWxlLT5ibG9iKSk7CkBAIC00MzUs
NyArNDM1LDcgQEAgdWJ1c2RfYWNsX2xvYWQodm9pZCkKIHsKIAlzdHJ1Y3Qgc3RhdCBzdDsKIAln
bG9iX3QgZ2w7Ci0JaW50IGo7CisJc2l6ZV90IGo7CiAJY29uc3QgY2hhciAqc3VmZml4ID0gIi8q
Lmpzb24iOwogCWNoYXIgKnBhdGggPSBhbGxvY2Eoc3RybGVuKHVidXNkX2FjbF9kaXIpICsgc3Ry
bGVuKHN1ZmZpeCkgKyAxKTsKIApAQCAtNDk5LDcgKzQ5OSw3IEBAIHVidXNkX3JlcGx5X2FkZChz
dHJ1Y3QgdWJ1c19vYmplY3QgKm9iaikKIAkJCWlmICghYWNsLT5wYXJ0aWFsKQogCQkJCWNvbnRp
bnVlOwogCi0JCQlpZiAobWF0Y2hfbGVuICE9IHN0cmxlbihrZXkpKQorCQkJaWYgKG1hdGNoX2xl
biAhPSAoaW50KSBzdHJsZW4oa2V5KSkKIAkJCQljb250aW51ZTsKIAkJfQogCmRpZmYgLS1naXQg
YS91YnVzZF9ldmVudC5jIGIvdWJ1c2RfZXZlbnQuYwppbmRleCA3MTJlNzA0OTk0NmEuLmQzNmJj
YjczZGRkYSAxMDA2NDQKLS0tIGEvdWJ1c2RfZXZlbnQuYworKysgYi91YnVzZF9ldmVudC5jCkBA
IC0xNjcsNyArMTY3LDcgQEAgaW50IHVidXNkX3NlbmRfZXZlbnQoc3RydWN0IHVidXNfY2xpZW50
ICpjbCwgY29uc3QgY2hhciAqaWQsCiAJCQlpZiAoIWV2LT5wYXJ0aWFsKQogCQkJCWNvbnRpbnVl
OwogCi0JCQlpZiAobWF0Y2hfbGVuICE9IHN0cmxlbihrZXkpKQorCQkJaWYgKG1hdGNoX2xlbiAh
PSAoaW50KSBzdHJsZW4oa2V5KSkKIAkJCQljb250aW51ZTsKIAkJfQogCmRpZmYgLS1naXQgYS91
YnVzZF9vYmouYyBiL3VidXNkX29iai5jCmluZGV4IDA4MzE0NzMyNTY3ZS4uMGM5Y2I5YWU4MjA4
IDEwMDY0NAotLS0gYS91YnVzZF9vYmouYworKysgYi91YnVzZF9vYmouYwpAQCAtNTUsNyArNTUs
NyBAQCBzdGF0aWMgc3RydWN0IHVidXNfb2JqZWN0X3R5cGUgKnVidXNfY3JlYXRlX29ial90eXBl
KHN0cnVjdCBibG9iX2F0dHIgKnNpZykKIHsKIAlzdHJ1Y3QgdWJ1c19vYmplY3RfdHlwZSAqdHlw
ZTsKIAlzdHJ1Y3QgYmxvYl9hdHRyICpwb3M7Ci0JaW50IHJlbTsKKwlzaXplX3QgcmVtOwogCiAJ
dHlwZSA9IGNhbGxvYygxLCBzaXplb2YoKnR5cGUpKTsKIAlpZiAoIXR5cGUpCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpvcGVud3J0LWRldmVsIG1haWxp
bmcgbGlzdApvcGVud3J0LWRldmVsQGxpc3RzLm9wZW53cnQub3JnCmh0dHBzOi8vbGlzdHMub3Bl
bndydC5vcmcvbWFpbG1hbi9saXN0aW5mby9vcGVud3J0LWRldmVsCg==
