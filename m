Return-Path: <openwrt-devel-bounces+lists+openwrt-devel=lfdr.de@lists.openwrt.org>
X-Original-To: lists+openwrt-devel@lfdr.de
Delivered-To: lists+openwrt-devel@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 5437A188FED
	for <lists+openwrt-devel@lfdr.de>; Tue, 17 Mar 2020 22:00:20 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:Subject:MIME-Version:Message-Id:Date:To
	:From:Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:
	Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:
	List-Owner; bh=zApGZjHzmt/qMRtOUUFPPT/SNqegTpUS9Ndv/h8rs6M=; b=i1wJ/iiDyzLLV/
	78+n9m1q+YBKkiKkfrFPYHa7cmbsz7NM3cEAUp6gJqN2Hlf6ldzbn+DxGSHMy7jUPS1flWYISOX1H
	gLVeI1IqiIjTgdcMI7V9R1JQfTDe5kXjmRnSif66cVM/Lpi4icI5dF/EDAOQ0vGW8ViADiTkr9OjL
	m6r1WOgW5gNl8C5qC2TJrnxXXPencz0a45j3f6yDK9w2m4G5j2SiQXFb39jbHdiFuvYTuVcsjWv5h
	LHR28TOGIlzkjuoecHVY9S59N4YEnrnM+Zvx1tspdOysjLsyS/+PbLJHgvqDLZ0Q6jCnpsxiHhXQn
	3FT33ibKx+HEwWyDtaEQ==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1jEJJj-0005q3-7k; Tue, 17 Mar 2020 21:00:03 +0000
Received: from mars.blocktrron.ovh ([51.254.112.43] helo=mail.blocktrron.ovh)
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat
 Linux)) id 1jEJJc-0005pK-57
 for openwrt-devel@lists.openwrt.org; Tue, 17 Mar 2020 20:59:58 +0000
Received: from dbauer-t470.home.david-bauer.net
 (p200300E53F0B4A002C24A556FCD4D8D5.dip0.t-ipconnect.de
 [IPv6:2003:e5:3f0b:4a00:2c24:a556:fcd4:d8d5])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.blocktrron.ovh (Postfix) with ESMTPSA id 3B6411E518;
 Tue, 17 Mar 2020 21:59:41 +0100 (CET)
From: David Bauer <mail@david-bauer.net>
To: openwrt-devel@lists.openwrt.org
Date: Tue, 17 Mar 2020 21:59:27 +0100
Message-Id: <20200317205927.26314-1-mail@david-bauer.net>
X-Mailer: git-send-email 2.25.1
MIME-Version: 1.0
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20200317_135956_506737_18DEE711 
X-CRM114-Status: GOOD (  14.98  )
X-Spam-Score: 0.0 (/)
X-Spam-Report: SpamAssassin version 3.4.3 on bombadil.infradead.org summary:
 Content analysis details:   (0.0 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.0 SPF_PASS               SPF: sender matches SPF record
Subject: [OpenWrt-Devel] [PATCH] ath79: fix NAND driver compilation for
 kernel 5.4
X-BeenThere: openwrt-devel@lists.openwrt.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <openwrt-devel.lists.openwrt.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/openwrt-devel>, 
 <mailto:openwrt-devel-request@lists.openwrt.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/openwrt-devel/>
List-Post: <mailto:openwrt-devel@lists.openwrt.org>
List-Help: <mailto:openwrt-devel-request@lists.openwrt.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/openwrt-devel>,
 <mailto:openwrt-devel-request@lists.openwrt.org?subject=subscribe>
Cc: Michal Cieslakiewicz <michal.cieslakiewicz@wp.pl>,
 WeiDong Jia <jwdsccd@gmail.com>,
 =?UTF-8?q?Andr=C3=A9=20Valentin?= <avalentin@marcant.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "openwrt-devel" <openwrt-devel-bounces@lists.openwrt.org>
Errors-To: openwrt-devel-bounces+lists+openwrt-devel=lfdr.de@lists.openwrt.org

VGhpcyBmaXhlcyB0aGUgY29tcGlsYXRpb24gb2YgdGhlIEFSOTM0eCBOQU5EIGNvbnRyb2xsZXIK
ZHJpdmVyIGZvciBrZXJuZWwgNS40IHdoaWxlIGxlYXZpbmcgaXQgdW50b3VjaGVkIGZvcgprZXJu
ZWwgNC4xOS4KClRoaXMgY2hhbmdlIGlzIGN1cnJlbnRseSBub3QgcnVuLXRlc3RlZCwgYXMgaSBk
byBub3QgaGF2ZSBzdWNoCmEgZGV2aWNlIGF0IGhhbmQuCgpDQzogTWljaGFsIENpZXNsYWtpZXdp
Y3ogPG1pY2hhbC5jaWVzbGFraWV3aWN6QHdwLnBsPgpDQzogQW5kcsOpIFZhbGVudGluIDxhdmFs
ZW50aW5AbWFyY2FudC5uZXQ+CkNDOiBXZWlEb25nIEppYSA8andkc2NjZEBnbWFpbC5jb20+ClNp
Z25lZC1vZmYtYnk6IERhdmlkIEJhdWVyIDxtYWlsQGRhdmlkLWJhdWVyLm5ldD4KLS0tCiAuLi4v
ZmlsZXMvZHJpdmVycy9tdGQvbmFuZC9yYXcvYXI5MzR4X25hbmQuYyAgfCAxMjcgKysrKysrKysr
KysrKysrKystCiAxIGZpbGUgY2hhbmdlZCwgMTIyIGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2xpbnV4L2F0aDc5L2ZpbGVzL2RyaXZlcnMvbXRkL25h
bmQvcmF3L2FyOTM0eF9uYW5kLmMgYi90YXJnZXQvbGludXgvYXRoNzkvZmlsZXMvZHJpdmVycy9t
dGQvbmFuZC9yYXcvYXI5MzR4X25hbmQuYwppbmRleCA1ODE5OGU0NDY1Li43MGFhMzk2ZTI1IDEw
MDY0NAotLS0gYS90YXJnZXQvbGludXgvYXRoNzkvZmlsZXMvZHJpdmVycy9tdGQvbmFuZC9yYXcv
YXI5MzR4X25hbmQuYworKysgYi90YXJnZXQvbGludXgvYXRoNzkvZmlsZXMvZHJpdmVycy9tdGQv
bmFuZC9yYXcvYXI5MzR4X25hbmQuYwpAQCAtNjMxLDExICs2MzEsMTkgQEAgc3RhdGljIHZvaWQg
YXI5MzR4X25mY19yZWFkX3N0YXR1cyhzdHJ1Y3QgYXI5MzR4X25mYyAqbmZjKQogCQluZmMtPmJ1
ZlswXSA9IHN0YXR1czsKIH0KIAorI2lmIExJTlVYX1ZFUlNJT05fQ09ERSA8IEtFUk5FTF9WRVJT
SU9OKDQsIDIwLCAwKQogc3RhdGljIHZvaWQgYXI5MzR4X25mY19jbWRmdW5jKHN0cnVjdCBtdGRf
aW5mbyAqbXRkLCB1bnNpZ25lZCBpbnQgY29tbWFuZCwKIAkJCSAgICAgICBpbnQgY29sdW1uLCBp
bnQgcGFnZV9hZGRyKQogewogCXN0cnVjdCBhcjkzNHhfbmZjICpuZmMgPSBtdGRfdG9fYXI5MzR4
X25mYyhtdGQpOwogCXN0cnVjdCBuYW5kX2NoaXAgKm5hbmQgPSAmbmZjLT5uYW5kX2NoaXA7Cisj
ZWxzZQorc3RhdGljIHZvaWQgYXI5MzR4X25mY19jbWRmdW5jKHN0cnVjdCBuYW5kX2NoaXAgKm5h
bmQsIHVuc2lnbmVkIGludCBjb21tYW5kLAorCQkJICAgICAgIGludCBjb2x1bW4sIGludCBwYWdl
X2FkZHIpCit7CisJc3RydWN0IG10ZF9pbmZvICptdGQgPSBuYW5kX3RvX210ZChuYW5kKTsKKwlz
dHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gbmFuZC0+cHJpdjsKKyNlbmRpZgogCiAJbmZjLT5yZWFk
X2lkID0gZmFsc2U7CiAJaWYgKGNvbW1hbmQgIT0gTkFORF9DTURfUEFHRVBST0cpCkBAIC03NDAs
MTYgKzc0OCwyOCBAQCBzdGF0aWMgdm9pZCBhcjkzNHhfbmZjX2NtZGZ1bmMoc3RydWN0IG10ZF9p
bmZvICptdGQsIHVuc2lnbmVkIGludCBjb21tYW5kLAogCX0KIH0KIAorI2lmIExJTlVYX1ZFUlNJ
T05fQ09ERSA8IEtFUk5FTF9WRVJTSU9OKDQsIDIwLCAwKQogc3RhdGljIGludCBhcjkzNHhfbmZj
X2Rldl9yZWFkeShzdHJ1Y3QgbXRkX2luZm8gKm10ZCkKIHsKIAlzdHJ1Y3QgYXI5MzR4X25mYyAq
bmZjID0gbXRkX3RvX2FyOTM0eF9uZmMobXRkKTsKKyNlbHNlCitzdGF0aWMgaW50IGFyOTM0eF9u
ZmNfZGV2X3JlYWR5KHN0cnVjdCBuYW5kX2NoaXAgKmNoaXApCit7CisJc3RydWN0IGFyOTM0eF9u
ZmMgKm5mYyA9IGNoaXAtPnByaXY7CisjZW5kaWYKIAogCXJldHVybiBfX2FyOTM0eF9uZmNfZGV2
X3JlYWR5KG5mYyk7CiB9CiAKKyNpZiBMSU5VWF9WRVJTSU9OX0NPREUgPCBLRVJORUxfVkVSU0lP
Tig0LCAyMCwgMCkKIHN0YXRpYyB1OCBhcjkzNHhfbmZjX3JlYWRfYnl0ZShzdHJ1Y3QgbXRkX2lu
Zm8gKm10ZCkKIHsKIAlzdHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gbXRkX3RvX2FyOTM0eF9uZmMo
bXRkKTsKKyNlbHNlCitzdGF0aWMgdTggYXI5MzR4X25mY19yZWFkX2J5dGUoc3RydWN0IG5hbmRf
Y2hpcCAqY2hpcCkKK3sKKwlzdHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gY2hpcC0+cHJpdjsKKyNl
bmRpZgogCXU4IGRhdGE7CiAKIAlXQVJOX09OKG5mYy0+YnVmX2luZGV4ID49IG5mYy0+YnVmX3Np
emUpOwpAQCAtNzY0LDkgKzc4NCwxNSBAQCBzdGF0aWMgdTggYXI5MzR4X25mY19yZWFkX2J5dGUo
c3RydWN0IG10ZF9pbmZvICptdGQpCiAJcmV0dXJuIGRhdGE7CiB9CiAKKyNpZiBMSU5VWF9WRVJT
SU9OX0NPREUgPCBLRVJORUxfVkVSU0lPTig0LCAyMCwgMCkKIHN0YXRpYyB2b2lkIGFyOTM0eF9u
ZmNfd3JpdGVfYnVmKHN0cnVjdCBtdGRfaW5mbyAqbXRkLCBjb25zdCB1OCAqYnVmLCBpbnQgbGVu
KQogewogCXN0cnVjdCBhcjkzNHhfbmZjICpuZmMgPSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOwor
I2Vsc2UKK3N0YXRpYyB2b2lkIGFyOTM0eF9uZmNfd3JpdGVfYnVmKHN0cnVjdCBuYW5kX2NoaXAg
KmNoaXAsIGNvbnN0IHU4ICpidWYsIGludCBsZW4pCit7CisJc3RydWN0IGFyOTM0eF9uZmMgKm5m
YyA9IGNoaXAtPnByaXY7CisjZW5kaWYKIAlpbnQgaTsKIAogCVdBUk5fT04obmZjLT5idWZfaW5k
ZXggKyBsZW4gPiBuZmMtPmJ1Zl9zaXplKTsKQEAgLTc4NCw5ICs4MTAsMTUgQEAgc3RhdGljIHZv
aWQgYXI5MzR4X25mY193cml0ZV9idWYoc3RydWN0IG10ZF9pbmZvICptdGQsIGNvbnN0IHU4ICpi
dWYsIGludCBsZW4pCiAJfQogfQogCisjaWYgTElOVVhfVkVSU0lPTl9DT0RFIDwgS0VSTkVMX1ZF
UlNJT04oNCwgMjAsIDApCiBzdGF0aWMgdm9pZCBhcjkzNHhfbmZjX3JlYWRfYnVmKHN0cnVjdCBt
dGRfaW5mbyAqbXRkLCB1OCAqYnVmLCBpbnQgbGVuKQogewogCXN0cnVjdCBhcjkzNHhfbmZjICpu
ZmMgPSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOworI2Vsc2UKK3N0YXRpYyB2b2lkIGFyOTM0eF9u
ZmNfcmVhZF9idWYoc3RydWN0IG5hbmRfY2hpcCAqY2hpcCwgdTggKmJ1ZiwgaW50IGxlbikKK3sK
KwlzdHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gY2hpcC0+cHJpdjsKKyNlbmRpZgogCWludCBidWZf
aW5kZXg7CiAJaW50IGk7CiAKQEAgLTgyMSwxMCArODUzLDE4IEBAIHN0YXRpYyBpbmxpbmUgdm9p
ZCBhcjkzNHhfbmZjX2Rpc2FibGVfaHdlY2Moc3RydWN0IGFyOTM0eF9uZmMgKm5mYykKIAluZmMt
PmN0cmxfcmVnIHw9IEFSOTM0WF9ORkNfQ1RSTF9DVVNUT01fU0laRV9FTjsKIH0KIAorI2lmIExJ
TlVYX1ZFUlNJT05fQ09ERSA8IEtFUk5FTF9WRVJTSU9OKDQsIDIwLCAwKQogc3RhdGljIGludCBh
cjkzNHhfbmZjX3JlYWRfb29iKHN0cnVjdCBtdGRfaW5mbyAqbXRkLCBzdHJ1Y3QgbmFuZF9jaGlw
ICpjaGlwLAogCQkJICAgICAgIGludCBwYWdlKQogewogCXN0cnVjdCBhcjkzNHhfbmZjICpuZmMg
PSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOworI2Vsc2UKK3N0YXRpYyBpbnQgYXI5MzR4X25mY19y
ZWFkX29vYihzdHJ1Y3QgbmFuZF9jaGlwICpjaGlwLAorCQkJICAgICAgIGludCBwYWdlKQorewor
CXN0cnVjdCBhcjkzNHhfbmZjICpuZmMgPSBjaGlwLT5wcml2OworCXN0cnVjdCBtdGRfaW5mbyAq
bXRkID0gYXI5MzR4X25mY190b19tdGQobmZjKTsKKyNlbmRpZgogCWludCBlcnI7CiAKIAluZmNf
ZGJnKG5mYywgInJlYWRfb29iOiBwYWdlOiVkXG4iLCBwYWdlKTsKQEAgLTgzOSwxMSArODc5LDE4
IEBAIHN0YXRpYyBpbnQgYXI5MzR4X25mY19yZWFkX29vYihzdHJ1Y3QgbXRkX2luZm8gKm10ZCwg
c3RydWN0IG5hbmRfY2hpcCAqY2hpcCwKIAlyZXR1cm4gMDsKIH0KIAorI2lmIExJTlVYX1ZFUlNJ
T05fQ09ERSA8IEtFUk5FTF9WRVJTSU9OKDQsIDIwLCAwKQogc3RhdGljIGludCBhcjkzNHhfbmZj
X3dyaXRlX29vYihzdHJ1Y3QgbXRkX2luZm8gKm10ZCwgc3RydWN0IG5hbmRfY2hpcCAqY2hpcCwK
IAkJCQlpbnQgcGFnZSkKIHsKIAlzdHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gbXRkX3RvX2FyOTM0
eF9uZmMobXRkKTsKLQorI2Vsc2UKK3N0YXRpYyBpbnQgYXI5MzR4X25mY193cml0ZV9vb2Ioc3Ry
dWN0IG5hbmRfY2hpcCAqY2hpcCwKKwkJCQlpbnQgcGFnZSkKK3sKKwlzdHJ1Y3QgYXI5MzR4X25m
YyAqbmZjID0gY2hpcC0+cHJpdjsKKwlzdHJ1Y3QgbXRkX2luZm8gKm10ZCA9IGFyOTM0eF9uZmNf
dG9fbXRkKG5mYyk7CisjZW5kaWYKIAluZmNfZGJnKG5mYywgIndyaXRlX29vYjogcGFnZTolZFxu
IiwgcGFnZSk7CiAKIAltZW1jcHkobmZjLT5idWYsIGNoaXAtPm9vYl9wb2ksIG10ZC0+b29ic2l6
ZSk7CkBAIC04NTIsMTEgKzg5OSwyMCBAQCBzdGF0aWMgaW50IGFyOTM0eF9uZmNfd3JpdGVfb29i
KHN0cnVjdCBtdGRfaW5mbyAqbXRkLCBzdHJ1Y3QgbmFuZF9jaGlwICpjaGlwLAogCQkJCSAgICAg
cGFnZSwgbXRkLT5vb2JzaXplKTsKIH0KIAorI2lmIExJTlVYX1ZFUlNJT05fQ09ERSA8IEtFUk5F
TF9WRVJTSU9OKDQsIDIwLCAwKQogc3RhdGljIGludCBhcjkzNHhfbmZjX3JlYWRfcGFnZV9yYXco
c3RydWN0IG10ZF9pbmZvICptdGQsCiAJCQkJICAgIHN0cnVjdCBuYW5kX2NoaXAgKmNoaXAsIHU4
ICpidWYsCiAJCQkJICAgIGludCBvb2JfcmVxdWlyZWQsIGludCBwYWdlKQogewogCXN0cnVjdCBh
cjkzNHhfbmZjICpuZmMgPSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOworI2Vsc2UKK3N0YXRpYyBp
bnQgYXI5MzR4X25mY19yZWFkX3BhZ2VfcmF3KAorCQkJCSAgICBzdHJ1Y3QgbmFuZF9jaGlwICpj
aGlwLCB1OCAqYnVmLAorCQkJCSAgICBpbnQgb29iX3JlcXVpcmVkLCBpbnQgcGFnZSkKK3sKKwlz
dHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gY2hpcC0+cHJpdjsKKwlzdHJ1Y3QgbXRkX2luZm8gKm10
ZCA9IGFyOTM0eF9uZmNfdG9fbXRkKG5mYyk7CisjZW5kaWYKIAlpbnQgbGVuOwogCWludCBlcnI7
CiAKQEAgLTg3OCwxMCArOTM0LDE4IEBAIHN0YXRpYyBpbnQgYXI5MzR4X25mY19yZWFkX3BhZ2Vf
cmF3KHN0cnVjdCBtdGRfaW5mbyAqbXRkLAogCXJldHVybiAwOwogfQogCisjaWYgTElOVVhfVkVS
U0lPTl9DT0RFIDwgS0VSTkVMX1ZFUlNJT04oNCwgMjAsIDApCiBzdGF0aWMgaW50IGFyOTM0eF9u
ZmNfcmVhZF9wYWdlKHN0cnVjdCBtdGRfaW5mbyAqbXRkLCBzdHJ1Y3QgbmFuZF9jaGlwICpjaGlw
LAogCQkJCXU4ICpidWYsIGludCBvb2JfcmVxdWlyZWQsIGludCBwYWdlKQogewogCXN0cnVjdCBh
cjkzNHhfbmZjICpuZmMgPSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOworI2Vsc2UKK3N0YXRpYyBp
bnQgYXI5MzR4X25mY19yZWFkX3BhZ2Uoc3RydWN0IG5hbmRfY2hpcCAqY2hpcCwKKwkJCQl1OCAq
YnVmLCBpbnQgb29iX3JlcXVpcmVkLCBpbnQgcGFnZSkKK3sKKwlzdHJ1Y3QgYXI5MzR4X25mYyAq
bmZjID0gY2hpcC0+cHJpdjsKKwlzdHJ1Y3QgbXRkX2luZm8gKm10ZCA9IGFyOTM0eF9uZmNfdG9f
bXRkKG5mYyk7CisjZW5kaWYKIAl1MzIgZWNjX2N0cmw7CiAJaW50IG1heF9iaXRmbGlwcyA9IDA7
CiAJYm9vbCBlY2NfZmFpbGVkOwpAQCAtOTUwLDExICsxMDE0LDIwIEBAIHN0YXRpYyBpbnQgYXI5
MzR4X25mY19yZWFkX3BhZ2Uoc3RydWN0IG10ZF9pbmZvICptdGQsIHN0cnVjdCBuYW5kX2NoaXAg
KmNoaXAsCiAJcmV0dXJuIG1heF9iaXRmbGlwczsKIH0KIAorI2lmIExJTlVYX1ZFUlNJT05fQ09E
RSA8IEtFUk5FTF9WRVJTSU9OKDQsIDIwLCAwKQogc3RhdGljIGludCBhcjkzNHhfbmZjX3dyaXRl
X3BhZ2VfcmF3KHN0cnVjdCBtdGRfaW5mbyAqbXRkLAogCQkJCSAgICAgc3RydWN0IG5hbmRfY2hp
cCAqY2hpcCwgY29uc3QgdTggKmJ1ZiwKIAkJCQkgICAgIGludCBvb2JfcmVxdWlyZWQsIGludCBw
YWdlKQogewogCXN0cnVjdCBhcjkzNHhfbmZjICpuZmMgPSBtdGRfdG9fYXI5MzR4X25mYyhtdGQp
OworI2Vsc2UKK3N0YXRpYyBpbnQgYXI5MzR4X25mY193cml0ZV9wYWdlX3JhdygKKwkJCQkgICAg
IHN0cnVjdCBuYW5kX2NoaXAgKmNoaXAsIGNvbnN0IHU4ICpidWYsCisJCQkJICAgICBpbnQgb29i
X3JlcXVpcmVkLCBpbnQgcGFnZSkKK3sKKwlzdHJ1Y3QgYXI5MzR4X25mYyAqbmZjID0gY2hpcC0+
cHJpdjsKKwlzdHJ1Y3QgbXRkX2luZm8gKm10ZCA9IGFyOTM0eF9uZmNfdG9fbXRkKG5mYyk7Cisj
ZW5kaWYKIAlpbnQgbGVuOwogCiAJbmZjX2RiZyhuZmMsICJ3cml0ZV9wYWdlX3JhdzogcGFnZTol
ZCBvb2I6JWRcbiIsIHBhZ2UsIG9vYl9yZXF1aXJlZCk7CkBAIC05NzAsMTAgKzEwNDMsMTggQEAg
c3RhdGljIGludCBhcjkzNHhfbmZjX3dyaXRlX3BhZ2VfcmF3KHN0cnVjdCBtdGRfaW5mbyAqbXRk
LAogCXJldHVybiBhcjkzNHhfbmZjX3NlbmRfd3JpdGUobmZjLCBOQU5EX0NNRF9QQUdFUFJPRywg
MCwgcGFnZSwgbGVuKTsKIH0KIAorI2lmIExJTlVYX1ZFUlNJT05fQ09ERSA8IEtFUk5FTF9WRVJT
SU9OKDQsIDIwLCAwKQogc3RhdGljIGludCBhcjkzNHhfbmZjX3dyaXRlX3BhZ2Uoc3RydWN0IG10
ZF9pbmZvICptdGQsIHN0cnVjdCBuYW5kX2NoaXAgKmNoaXAsCiAJCQkJIGNvbnN0IHU4ICpidWYs
IGludCBvb2JfcmVxdWlyZWQsIGludCBwYWdlKQogewogCXN0cnVjdCBhcjkzNHhfbmZjICpuZmMg
PSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOworI2Vsc2UKK3N0YXRpYyBpbnQgYXI5MzR4X25mY193
cml0ZV9wYWdlKHN0cnVjdCBuYW5kX2NoaXAgKmNoaXAsCisJCQkJIGNvbnN0IHU4ICpidWYsIGlu
dCBvb2JfcmVxdWlyZWQsIGludCBwYWdlKQoreworCXN0cnVjdCBhcjkzNHhfbmZjICpuZmMgPSBj
aGlwLT5wcml2OworCXN0cnVjdCBtdGRfaW5mbyAqbXRkID0gYXI5MzR4X25mY190b19tdGQobmZj
KTsKKyNlbmRpZgogCWludCBlcnI7CiAKIAluZmNfZGJnKG5mYywgIndyaXRlX3BhZ2U6IHBhZ2U6
JWQgb29iOiVkXG4iLCBwYWdlLCBvb2JfcmVxdWlyZWQpOwpAQCAtOTgxLDcgKzEwNjIsMTEgQEAg
c3RhdGljIGludCBhcjkzNHhfbmZjX3dyaXRlX3BhZ2Uoc3RydWN0IG10ZF9pbmZvICptdGQsIHN0
cnVjdCBuYW5kX2NoaXAgKmNoaXAsCiAJLyogd3JpdGUgT09CIGZpcnN0ICovCiAJaWYgKG9vYl9y
ZXF1aXJlZCAmJgogCSAgICAhaXNfYWxsX2ZmKGNoaXAtPm9vYl9wb2ksIG10ZC0+b29ic2l6ZSkp
IHsKKyNpZiBMSU5VWF9WRVJTSU9OX0NPREUgPCBLRVJORUxfVkVSU0lPTig0LCAyMCwgMCkKIAkJ
ZXJyID0gYXI5MzR4X25mY193cml0ZV9vb2IobXRkLCBjaGlwLCBwYWdlKTsKKyNlbHNlCisJCWVy
ciA9IGFyOTM0eF9uZmNfd3JpdGVfb29iKGNoaXAsIHBhZ2UpOworI2VuZGlmCiAJCWlmIChlcnIp
CiAJCQlyZXR1cm4gZXJyOwogCX0KQEAgLTEwODMsNiArMTE2OCwxMSBAQCBzdGF0aWMgaW50IGFy
OTM0eF9uZmNfaW5pdF90YWlsKHN0cnVjdCBtdGRfaW5mbyAqbXRkKQogewogCXN0cnVjdCBhcjkz
NHhfbmZjICpuZmMgPSBtdGRfdG9fYXI5MzR4X25mYyhtdGQpOwogCXN0cnVjdCBuYW5kX2NoaXAg
KmNoaXAgPSAmbmZjLT5uYW5kX2NoaXA7CisjaWYgTElOVVhfVkVSU0lPTl9DT0RFIDwgS0VSTkVM
X1ZFUlNJT04oNSwgMiwgMCkKKwl1NjQgY2hpcHNpemUgPSBjaGlwLT5jaGlwc2l6ZTsKKyNlbHNl
CisJdTY0IGNoaXBzaXplID0gbmFuZGRldl90YXJnZXRfc2l6ZSgmY2hpcC0+YmFzZSk7CisjZW5k
aWYKIAl1MzIgY3RybDsKIAl1MzIgdDsKIAlpbnQgZXJyOwpAQCAtMTE2OSwxMCArMTI1OSwxMCBA
QCBzdGF0aWMgaW50IGFyOTM0eF9uZmNfaW5pdF90YWlsKHN0cnVjdCBtdGRfaW5mbyAqbXRkKQog
CWlmIChuZmMtPnNtYWxsX3BhZ2UpIHsKIAkJY3RybCB8PSBBUjkzNFhfTkZDX0NUUkxfU01BTExf
UEFHRTsKIAotCQlpZiAoY2hpcC0+Y2hpcHNpemUgPiAoMzIgPDwgMjApKSB7CisJCWlmIChjaGlw
c2l6ZSA+ICgzMiA8PCAyMCkpIHsKIAkJCW5mYy0+YWRkcl9jb3VudDAgPSA0OwogCQkJbmZjLT5h
ZGRyX2NvdW50MSA9IDM7Ci0JCX0gZWxzZSBpZiAoY2hpcC0+Y2hpcHNpemUgPiAoMiA8PCAxNikp
IHsKKwkJfSBlbHNlIGlmIChjaGlwc2l6ZSA+ICgyIDw8IDE2KSkgewogCQkJbmZjLT5hZGRyX2Nv
dW50MCA9IDM7CiAJCQluZmMtPmFkZHJfY291bnQxID0gMjsKIAkJfSBlbHNlIHsKQEAgLTExODAs
MTAgKzEyNzAsMTAgQEAgc3RhdGljIGludCBhcjkzNHhfbmZjX2luaXRfdGFpbChzdHJ1Y3QgbXRk
X2luZm8gKm10ZCkKIAkJCW5mYy0+YWRkcl9jb3VudDEgPSAxOwogCQl9CiAJfSBlbHNlIHsKLQkJ
aWYgKGNoaXAtPmNoaXBzaXplID4gKDEyOCA8PCAyMCkpIHsKKwkJaWYgKGNoaXBzaXplID4gKDEy
OCA8PCAyMCkpIHsKIAkJCW5mYy0+YWRkcl9jb3VudDAgPSA1OwogCQkJbmZjLT5hZGRyX2NvdW50
MSA9IDM7Ci0JCX0gZWxzZSBpZiAoY2hpcC0+Y2hpcHNpemUgPiAoOCA8PCAxNikpIHsKKwkJfSBl
bHNlIGlmIChjaGlwc2l6ZSA+ICg4IDw8IDE2KSkgewogCQkJbmZjLT5hZGRyX2NvdW50MCA9IDQ7
CiAJCQluZmMtPmFkZHJfY291bnQxID0gMjsKIAkJfSBlbHNlIHsKQEAgLTEzMjksOCArMTQxOSwx
MyBAQCBzdGF0aWMgaW50IGFyOTM0eF9uZmNfYXR0YWNoX2NoaXAoc3RydWN0IG5hbmRfY2hpcCAq
bmFuZCkKIAogc3RhdGljIHU2NCBhcjkzNHhfbmZjX2RtYV9tYXNrID0gRE1BX0JJVF9NQVNLKDMy
KTsKIAorI2lmIExJTlVYX1ZFUlNJT05fQ09ERSA8IEtFUk5FTF9WRVJTSU9OKDQsIDIwLCAwKQog
c3RhdGljIHZvaWQgYXI5MzR4X25mY19jbWRfY3RybChzdHJ1Y3QgbXRkX2luZm8gKm10ZCwgaW50
IGRhdCwKIAkJCQl1bnNpZ25lZCBpbnQgY3RybCkKKyNlbHNlCitzdGF0aWMgdm9pZCBhcjkzNHhf
bmZjX2NtZF9jdHJsKHN0cnVjdCBuYW5kX2NoaXAgKmNoaXAsIGludCBkYXQsCisJCQkJdW5zaWdu
ZWQgaW50IGN0cmwpCisjZW5kaWYKIHsKIAlXQVJOX09OKGRhdCAhPSBOQU5EX0NNRF9OT05FKTsK
IH0KQEAgLTE0MDEsNiArMTQ5Niw3IEBAIHN0YXRpYyBpbnQgYXI5MzR4X25mY19wcm9iZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCiAJbmFuZF9zZXRfY29udHJvbGxlcl9kYXRhKG5h
bmQsIG5mYyk7CiAJbmFuZF9zZXRfZmxhc2hfbm9kZShuYW5kLCBwZGV2LT5kZXYub2Zfbm9kZSk7
CisjaWYgTElOVVhfVkVSU0lPTl9DT0RFIDwgS0VSTkVMX1ZFUlNJT04oNCwgMjAsIDApCiAJbmFu
ZC0+Y2hpcF9kZWxheSA9IDI1OwogCW5hbmQtPmRldl9yZWFkeSA9IGFyOTM0eF9uZmNfZGV2X3Jl
YWR5OwogCW5hbmQtPmNtZGZ1bmMgPSBhcjkzNHhfbmZjX2NtZGZ1bmM7CkBAIC0xNDA4LDcgKzE1
MDQsMTcgQEAgc3RhdGljIGludCBhcjkzNHhfbmZjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZp
Y2UgKnBkZXYpCiAJbmFuZC0+cmVhZF9ieXRlID0gYXI5MzR4X25mY19yZWFkX2J5dGU7CiAJbmFu
ZC0+d3JpdGVfYnVmID0gYXI5MzR4X25mY193cml0ZV9idWY7CiAJbmFuZC0+cmVhZF9idWYgPSBh
cjkzNHhfbmZjX3JlYWRfYnVmOworI2Vsc2UKKwluYW5kLT5sZWdhY3kuY2hpcF9kZWxheSA9IDI1
OworCW5hbmQtPmxlZ2FjeS5kZXZfcmVhZHkgPSBhcjkzNHhfbmZjX2Rldl9yZWFkeTsKKwluYW5k
LT5sZWdhY3kuY21kZnVuYyA9IGFyOTM0eF9uZmNfY21kZnVuYzsKKwluYW5kLT5sZWdhY3kuY21k
X2N0cmwgPSBhcjkzNHhfbmZjX2NtZF9jdHJsOwkvKiBkdW1teSAqLworCW5hbmQtPmxlZ2FjeS5y
ZWFkX2J5dGUgPSBhcjkzNHhfbmZjX3JlYWRfYnl0ZTsKKwluYW5kLT5sZWdhY3kud3JpdGVfYnVm
ID0gYXI5MzR4X25mY193cml0ZV9idWY7CisJbmFuZC0+bGVnYWN5LnJlYWRfYnVmID0gYXI5MzR4
X25mY19yZWFkX2J1ZjsKKyNlbmRpZgogCW5hbmQtPmVjYy5tb2RlID0gTkFORF9FQ0NfSFc7CS8q
IGRlZmF1bHQgKi8KKwluYW5kLT5wcml2ID0gbmZjOwogCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBk
ZXYsIG5mYyk7CiAKIAlyZXQgPSBhcjkzNHhfbmZjX2FsbG9jX2J1ZihuZmMsIEFSOTM0WF9ORkNf
SURfQlVGX1NJWkUpOwpAQCAtMTQyMSw4ICsxNTI3LDEzIEBAIHN0YXRpYyBpbnQgYXI5MzR4X25m
Y19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCQlnb3RvIGVycl9mcmVlX2J1
ZjsKIAl9CiAKKyNpZiBMSU5VWF9WRVJTSU9OX0NPREUgPCBLRVJORUxfVkVSU0lPTig0LCAyMCwg
MCkKIAluYW5kLT5kdW1teV9jb250cm9sbGVyLm9wcyA9ICZhcjkzNHhfbmZjX2NvbnRyb2xsZXJf
b3BzOwogCXJldCA9IG5hbmRfc2NhbihtdGQsIDEpOworI2Vsc2UKKwluYW5kLT5sZWdhY3kuZHVt
bXlfY29udHJvbGxlci5vcHMgPSAmYXI5MzR4X25mY19jb250cm9sbGVyX29wczsKKwlyZXQgPSBu
YW5kX3NjYW4obmFuZCwgMSk7CisjZW5kaWYKIAlpZiAocmV0KSB7CiAJCWRldl9lcnIoJnBkZXYt
PmRldiwgIm5hbmRfc2NhbiBmYWlsZWQsIGVycjolZFxuIiwgcmV0KTsKIAkJZ290byBlcnJfZnJl
ZV9idWY7CkBAIC0xNDQ0LDEyICsxNTU1LDE4IEBAIGVycl9mcmVlX2J1ZjoKIHN0YXRpYyBpbnQg
YXI5MzR4X25mY19yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIHsKIAlzdHJ1
Y3QgYXI5MzR4X25mYyAqbmZjOworI2lmIExJTlVYX1ZFUlNJT05fQ09ERSA8IEtFUk5FTF9WRVJT
SU9OKDQsIDIwLCAwKQogCXN0cnVjdCBtdGRfaW5mbyAqbXRkOworI2VuZGlmCiAKIAluZmMgPSBw
bGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKIAlpZiAobmZjKSB7CisjaWYgTElOVVhfVkVSU0lP
Tl9DT0RFIDwgS0VSTkVMX1ZFUlNJT04oNCwgMjAsIDApCiAJCW10ZCA9IGFyOTM0eF9uZmNfdG9f
bXRkKG5mYyk7CiAJCW5hbmRfcmVsZWFzZShtdGQpOworI2Vsc2UKKwkJbmFuZF9yZWxlYXNlKCZu
ZmMtPm5hbmRfY2hpcCk7CisjZW5kaWYKIAkJYXI5MzR4X25mY19mcmVlX2J1ZihuZmMpOwogCX0K
IAotLSAKMi4yNS4xCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18Kb3BlbndydC1kZXZlbCBtYWlsaW5nIGxpc3QKb3BlbndydC1kZXZlbEBsaXN0cy5vcGVu
d3J0Lm9yZwpodHRwczovL2xpc3RzLm9wZW53cnQub3JnL21haWxtYW4vbGlzdGluZm8vb3Blbndy
dC1kZXZlbAo=
